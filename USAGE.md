# Как использовать `aurora_validation.sh`

Этот скрипт — мощный инструмент для диагностики и валидации настроек вашего Android-устройства для корректной работы приложения AuroraBridge.

## Шаг 1: Подготовка

1.  **Установите ADB:** Убедитесь, что на вашем компьютере установлен [Android Debug Bridge (ADB)](https://developer.android.com/studio/command-line/adb). Это основной инструмент, который использует скрипт.

2.  **Включите отладку по USB:**
    *   На вашем Android-устройстве перейдите в «Настройки» -> «О телефоне».
    *   Несколько раз нажмите на «Номер сборки», пока не появится сообщение «Вы стали разработчиком!».
    *   Перейдите в «Настройки» -> «Система» -> «Для разработчиков».
    *   Включите опцию «Отладка по USB».

3.  **Подключите устройство:** Подключите ваш телефон к компьютеру с помощью USB-кабеля. В появившемся на телефоне окне разрешите отладку с этого компьютера.

## Шаг 2: Запуск скрипта

1.  **Откройте терминал:** Откройте терминал (командную строку) в корневой папке вашего проекта, где находится файл `aurora_validation.sh`.

2.  **Сделайте скрипт исполняемым:** Выполните следующую команду, чтобы дать скрипту права на выполнение. Это нужно сделать только один раз.
    ```bash
    chmod +x aurora_validation.sh
    ```

3.  **Запустите скрипт:** Теперь вы можете запустить проверку.
    ```bash
    ./aurora_validation.sh
    ```

## Шаг 3: Анализ результатов

Скрипт выполнит серию проверок на вашем устройстве и выведет результаты в терминал.

*   **✅ (Галочка):** Означает, что проверка прошла успешно.
*   **⚠️ (Предупреждение):** Указывает на потенциальную проблему, которая может, но не обязательно, влиять на работу приложения. Например, найден сторонний оптимизатор батареи.
*   **❌ (Крестик):** Сигнализирует о критической ошибке, которую необходимо исправить (например, приложение не установлено).

### Отчет

В конце работы скрипт создаст файл `aurora_validation_report.txt` в той же папке. Этот текстовый файл содержит подробную техническую информацию о состоянии системы, которую можно отправить разработчику для более глубокого анализа в случае проблем.

### Что делает скрипт?

*   **Проверяет подключение:** Убеждается, что устройство подключено через ADB.
*   **Выдает разрешения:** Автоматически предоставляет необходимые разрешения для приложения AuroraBridge (`WRITE_SECURE_SETTINGS`, `IGNORE_BATTERY_OPTIMIZATIONS` и др.).
*   **Ищет ограничители:** Сканирует систему на наличие известных приложений-оптимизаторов (PowerGenie, MIUIOptimization), которые могут "убивать" фоновые процессы.
*   **Добавляет в Whitelist:** Проверяет и добавляет AuroraBridge в список исключений режима Doze, чтобы система не останавливала его работу в режиме ожидания.
*   **Настраивает ADB по Wi-Fi:** Пытается активировать отладку по Wi-Fi для удобства.
*   **Проверяет фоновые задачи и уведомления:** Убеждается, что ключевые компоненты приложения активны.
*   **Создает отчет:** Собирает всю диагностическую информацию в один файл.
